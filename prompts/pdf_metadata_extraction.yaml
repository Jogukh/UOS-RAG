name: "PDF í‘œ ê¸°ë°˜ ê³µë™ì£¼íƒ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ"
type: "metadata_extraction"
description: >
  CADë¡œ ì‘ì„±ëœ â€˜ê¸°ë‘¥Â·ìŠ¬ë˜ë¸Œ ì¼ëŒí‘œâ€™, â€˜ë³´ì¼ëŒí‘œâ€™, â€˜ì„¤ê³„ê°œìš”â€™ PDFë¥¼
  unstructuredPDFLoader(hi_res, infer_table_structure=True)ë¡œ íŒŒì‹±í•œ ë’¤,
  LLMì—ê²Œ ì™„ì „í•œ JSON ë©”íƒ€ë°ì´í„°ë¥¼ ìƒì„±í•˜ë„ë¡ ì§€ì‹œí•˜ëŠ” ê³ ê¸‰ í”„ë¡¬í”„íŠ¸.
used_by:
  - "llm_metadata_extractor.py"
input_params:
  - "file_name"
  - "page_number"
  - "text_content"
  - "html_content"
  - "tables_data"
  - "has_images"
output_format: "JSON (ê±´ì¶• ë„ë©´ ë©”íƒ€ë°ì´í„° êµ¬ì¡°í™” ê²°ê³¼)"
version: "1.1"
template: |
  ë‹¹ì‹ ì€ ê³µë™ì£¼íƒ ì„¤ê³„ë„ì„œ PDFì—ì„œ **í‘œÂ·í…ìŠ¤íŠ¸ ë©”íƒ€ë°ì´í„°**ë¥¼ êµ¬ì¡°í™”í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

  ## ğŸš¨ ì ˆëŒ€ ê·œì¹™
  1. ë°˜ë“œì‹œ ì•„ë˜ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§€ëŠ” **ì‹¤ì œ PDF-ì¶”ì¶œ ë°ì´í„°**(í…ìŠ¤íŠ¸Â·HTMLÂ·í‘œÂ·ì´ë¯¸ì§€ OCR)ë¥¼ ëª¨ë‘ ë¶„ì„í•œë‹¤.
  2. ì˜ˆì‹œ JSONì€ ì°¸ê³ ìš©ì¼ ë¿ì´ë©°, ì‹¤ì œ ë°ì´í„°ì— ë§ì¶° **ì™„ì „í•˜ê³  ì •í™•í•œ** ê²°ê³¼ë¥¼ ìƒì„±í•œë‹¤.
  3. JSON keyëŠ” **camelCase**ë¡œ í‘œê¸°í•˜ê³ , ëˆ„ë½Â·ì‹ë³„ë¶ˆê°€ ê°’ì€ `null` ë˜ëŠ” `[]`ë¥¼ ì‚¬ìš©í•œë‹¤.
  4. **ìœ íš¨í•œ JSON**ë§Œ ì¶œë ¥í•˜ë©°, ì„¤ëª…Â·ì£¼ì„ì€ ì ˆëŒ€ í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤.

  ---

  ## âš™ï¸ ê³µí†µ ì¶œë ¥ í•„ë“œ (ëª¨ë“  ë¬¸ì„œ ê³µí†µ)
  | key            | ì„¤ëª…                                               |
  |----------------|----------------------------------------------------|
  | drawingTitle   | ë„ë©´ëª…(ë¬¸ì„œ ë‚´ ì œëª© ì—†ìœ¼ë©´ íŒŒì¼ëª…)                  |
  | fileName       | ì›ë³¸ PDF íŒŒì¼ëª…                                    |
  | extractedAt    | ë©”íƒ€ë°ì´í„° ì¶”ì¶œ ì‹œê°(ISO 8601)                     |
  | documentType   | ê¸°ë‘¥ì¼ëŒí‘œ \| ë³´ì¼ëŒí‘œ \| ìŠ¬ë˜ë¸Œì¼ëŒí‘œ \| ì„¤ê³„ê°œìš” \| ê¸°íƒ€ |

  ---

  ## ğŸ“‘ ë¬¸ì„œ ìœ í˜•ë³„ ì„¸ë¶€ êµ¬ì¡°

  ### 1) `ê¸°ë‘¥ì¼ëŒí‘œ` / `ë³´ì¼ëŒí‘œ`
  ```json
  {
    "columns": [
      {
        "mark": "",
        "size": "",
        "position": "END | CENTER | END(INT) | END(EXT) | BOTH",
        "upperRebar": "",
        "lowerRebar": "",
        "tieRebar": "",
        "comment": ""
      }
    ],
    "rebarGrade": "",
    "unit": "mm"
  }
  ```

  ### 2) `ìŠ¬ë˜ë¸Œì¼ëŒí‘œ`
  ```json
  {
    "slabs": [
      {
        "name": "",
        "thk": 0,
        "type": "",
        "reinforcementShort": {
          "x1": "", "x2": "", "x3": "", "x4": "", "x5": ""
        },
        "reinforcementLong": {
          "y1": "", "y2": "", "y3": "", "y4": "", "y5": ""
        }
      }
    ],
    "unit": "mm"
  }
  ```

  ### 3) `ì„¤ê³„ê°œìš”`
  ```json
  {
    "project": {
      "projectName": "",
      "siteLocation": "",
      "zoning": "",
      "landAreaM2": 0,
      "buildingAreaM2": 0,
      "totalFloorAreaM2": 0,
      "buildingCoverageRatio": "0.00%",
      "floorAreaRatio": "0.00%",
      "buildingHeightM": 0,
      "structureType": "",
      "floors": { "above": 0, "below": 0 },
      "households": 0
    },
    "parking": {
      "total": 0,
      "aboveGround": 0,
      "underground": 0,
      "compact": 0,
      "accessible": 0,
      "ev": 0
    },
    "unitMix": [
      {
        "type": "59A",
        "count": 0,
        "exclusiveAreaM2": 0.0,
        "supplyAreaM2": 0.0,
        "contractAreaM2": 0.0,
        "ratio": "0.00%"
      }
    ],
    "communityFacilities": {
      "childcareM2": 0,
      "libraryM2": 0,
      "seniorCenterM2": 0,
      "fitnessM2": 0
    }
  }
  ```

  ### 4) `ê¸°íƒ€`
  ```json
  {
    "content": {
      "headings": [],
      "paragraphs": []
    }
  }
  ```

  ---

  ## ğŸ“ ì…ë ¥ í˜•ì‹

  * **fileName:** {file_name}
  * **pageNumber:** {page_number}
  * **hasImages:** {has_images}

  ### í…ìŠ¤íŠ¸
  {text_content}

  ### HTML (ì„ íƒ)
  {html_content}

  ### í‘œ/ì…€
  {tables_data}

  ---

  **ìœ„ ë°ì´í„°ë¥¼ ë©´ë°€íˆ ë¶„ì„í•˜ì—¬ í•´ë‹¹ ìœ í˜• JSONì„ ì™„ì„±í•˜ë¼.**
  **ì¶œë ¥ì€ JSON í•œ ë©ì–´ë¦¬ë¡œë§Œ ì‘ë‹µí•œë‹¤.**
